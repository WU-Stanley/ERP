<div class="bg-white p-6 rounded-xl shadow-md max-w-5xl mx-auto space-y-6">
  <h2 class="text-2xl font-bold text-gray-800">Manage Permissions</h2>

  <!-- Staff Select -->
  <lib-custom-select
    [options]="staffList"
    [labelKey]="'name'"
    [placeholder]="'Select staff'"
    class="w-full max-w-md"
  ></lib-custom-select>

  <!-- Search -->
  <input
    type="text"
    [(ngModel)]="searchTerm"
    placeholder="Search permissions..."
    class="w-full max-w-md px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
  />

  <!-- Permissions List -->
  <div class="grid gap-4">
    @for (permission of filteredPermissions; track permission.id) {
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 hover:shadow-sm transition-all">
        <div class="flex-1 space-y-1">
          <p class="text-base font-medium text-gray-800">
            {{ permission.name }}
          </p>
          <p class="text-sm text-gray-500">
            {{ permission.description }}
          </p>
          <span
            class="inline-block mt-1 px-2 py-0.5 text-xs rounded-full font-semibold"
            [ngClass]="{
              'bg-green-100 text-green-700': permission.status === 'Assigned',
              'bg-red-100 text-red-700': permission.status === 'Revoked',
              'bg-yellow-100 text-yellow-700': permission.status !== 'Assigned' && permission.status !== 'Revoked'
            }"
          >
            {{ permission.status }}
          </span>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-2 mt-4 sm:mt-0 sm:ml-6">
          @if (permission.status !== 'Assigned') {
            <button
              class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700"
              (click)="assignPermission(permission)"
            >
              Assign
            </button>
          }
          @else {
            <button
              class="px-4 py-2 text-sm font-medium text-white bg-red-600 rounded hover:bg-red-700"
              (click)="revokePermission(permission)"
            >
              Revoke
            </button>
          }
        </div>
      </div>
    }
  </div>
</div>
\