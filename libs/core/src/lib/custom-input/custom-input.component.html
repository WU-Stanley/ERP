<div class="custom-input">
  <div
    class="input-wrapper"
    [class.focused]="focused || value"
    [class.has-error]="hasError()"
  >
    <label [for]="id">{{ label }}</label>

    <ng-content select="[prefix]"></ng-content>

    <input
      class="input-field"
      [type]="inputType || 'search'"
      [value]="value"
      [disabled]="disabled"
      [readOnly]="disabled || readonly"
      [placeholder]="focused ? placeholder : ''"
      (input)="onInputChange($event)"
      (focus)="focused = true"
      (blur)="focused = false; onTouched()"
      [id]="id"
      [name]="name"
      [autocomplete]="autocomplete || 'on'"
      [readonly]="readonly"
      [ngStyle]="{ width: width, height: height }"
      role="searchbox"
    />

    <span class="suffix-wrapper">
      <ng-content select="[suffix]"></ng-content>
      <button
        *ngIf="oldType === 'password'"
        type="button"
        class="toggle-btn"
        (click)="togglePasswordVisibility()"
        aria-label="Toggle password visibility"
      >
        {{ hidePassword ? 'ğŸ‘ï¸' : 'ğŸ™ˆ' }}
      </button>
    </span>
  </div>

  <div class="error-message" *ngIf="hasError()">
    {{ errorMessage }}
  </div>
</div>
