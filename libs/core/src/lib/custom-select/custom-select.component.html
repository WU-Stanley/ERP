<div class="custom-input">
  <div
    class="input-wrapper"
    [class.focused]="focused || searchTerm"
    [class.has-error]="hasError()"
  >
    <label [for]="id">{{ label }}</label>

    <div class="input-field-wrapper">
      <input
        type="text"
        class="input-field"
        [ngStyle]="{ width: width, height: height }"
        [disabled]="disabled"
        [id]="id"
        [name]="name"
        [placeholder]="focused ? placeholder : ''"
        [value]="searchTerm ? searchTerm : fieldValue"
        (input)="onSearch($event)"
        (focus)="onFocus()"
        (blur)="onBlur()"
        autocomplete="off"
        (focus)="onFocus()"
      />

      <ul class="dropdown" *ngIf="showDropdown && filteredOptions.length">
        <li
          *ngFor="let option of filteredOptions"
          (mousedown)="selectOption(option)"
          [class.selected]="isSelected(option)"
        >
          {{ getLabel(option) }}
        </li>
      </ul>
    </div>
  </div>

  <div class="error-message" *ngIf="hasError()" [attr.title]="errorMessage">
    {{ errorMessage }}
  </div>
</div>
