<nav class="text-sm text-gray-500 mb-2">
  Home / Vendor / Dashboard /<span class="text-gray-700 font-medium"
    >Vendor Orders</span
  >
</nav>
<div class="space-6">
  <div class="flex justify-end mb-4">
    <lib-custom-input
      label="Search By Order Code"
      [formControl]="searchControl"
      type="text"
      placeholder="Search orders..."
    ></lib-custom-input>
  </div>
  <div *ngIf="isLoading" class="text-center text-gray-500 py-10 text-lg">
    Loading meal order history...
  </div>
  <div class="flex flex-wrap items-center md:flex-row md:flex gap-2">
    <div
      *ngFor="let order of vendorOrders"
      class="flex-col bg-white shadow-md rounded-xl overflow-hidden border border-gray-200 w-80"
    >
      <!-- Image Section -->
      <div class="w-full h-40 flex-none">
        <img
          [src]="order.imageUrl"
          alt="{{ order.menuItemName }}"
          class="w-full h-full object-cover"
        />
      </div>

      <!-- Details Section -->
      <div class="flex flex-col justify-between p-4 flex-grow">
        <div>
          <h2 class="text-xl font-semibold text-gray-800">
            {{ order.menuItemName }}
          </h2>
          <p class="text-gray-600 mt-1">{{ order.description }}</p>

          <div class="mt-3 text-sm space-y-1">
            <p>
              <span class="font-medium">Vendor:</span> {{ order.vendorName }}
            </p>
            <p><span class="font-medium">Price:</span> â‚¦{{ order.price }}</p>
            <p>
              <span class="font-medium">Order Code: </span>
              <span class="text-green-600 font-bold">{{
                order.orderCode
              }}</span>
            </p>
            <p>
              <span class="font-medium">Claim Time:</span>
              {{ order.claimTime | date : 'medium' }}
            </p>
          </div>
        </div>

        <!-- Approval Button -->

        <div class="mt-4 flex justify-end">
          @if(!order.isRedeemed && !order.isApproved){
          <lib-submit-rounded-button
            [isProcessing]="isProcessing"
            label="Approve Order"
            (click)="approveOrder(order)"
          >
            Approve Order
          </lib-submit-rounded-button>
          }@else if (!order.isRedeemed && order.isApproved) {
          <span class="text-green-600 font-semibold">Order Approved</span>
          } @else{
          <span class="text-green-600 font-semibold">Order Redeemed</span>
          }
        </div>
      </div>
    </div>
  </div>
</div>
